script(type='text/ng-template',id='/mock-detail.html')
  div.mock-box
    div.mock-left
      div.mock-left-btns(ng-show='status.edit')
        button.btn.btn-success(ng-click='status.addNode = !status.addNode')
          span.xicon-plus 
          | 添加节点
        button.btn.btn-warning(ng-click='deleteNode()')
          span.xicon-remove 
          | 删除节点
        button.btn(ng-click='cancelNode()')
          span.xicon-remove-circle
          | 取消选中
      div.form-group
        input(ng-model='nodeName',type='text',ng-show='status.addNode',ng-keydown='addNode($event)',placeholder='输入接口名称')
      h3 {{name}}
      div(xtree='list')
    div.mock-right
      div
        button.btn.btn-primary(ng-click='saveDetail()',ng-show='status.edit') 保存
        button.btn.btn-success(ng-click='generateData()') 生成模拟数据
      h3 接口信息 {{baseUrl}}{{detail.url}}
      div.interface-box
        form(name='detailForm')
          div.form-group
            label.sr-only 接口名称：
            input(ng-model='detail.name',name='name',type='text')
          div.form-group
            label.sr-only 请求方法：
            select(ng-model='detail.method',name='method',type='text')
              option(value='get') GET
              option(value='post') POST
          div.form-group
            label.sr-only 接口地址：
            input(ng-model='detail.url',name='url',type='text')
          div.form-group
            label.sr-only 接口描述：
            textarea(type='text',ng-model='detail.description',name='description')
      h3 请求参数 
        span.xicon-plus(data-tip='添加请求参数',ng-click='addRequest()',ng-show='status.edit')
      div(xgridcols='requestCols',xgrid='detail.request')
      h3 返回字段 
        span.xicon-plus(data-tip='添加返回数据',ng-click='addResponse()',ng-show='status.edit')
      div(xgridcols='responseCols',xgrid='detail.response')
      p
        pre(ng-bind='mockData')